(this["webpackJsonpcovid-track"]=this["webpackJsonpcovid-track"]||[]).push([[0],{230:function(e,t,a){e.exports=a(445)},235:function(e,t,a){},236:function(e,t,a){},445:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(42),i=a.n(l),o=(a(235),a(45)),s=a(46),c=a(50),u=a(49),f=(a(236),a(473)),p=a(468),y=a(469),m=a(466),d=a(148),h=a.n(d),g=a(82),b=a(9),v=function(){return r.a.createElement("h1",null,"Not found")},T=a(83),E=a(467),x=a(471),k=a(465),A=Object(k.a)((function(e){return{root:{width:300},margin:{height:e.spacing(3)},body:{fontWeight:"bold",fontSize:16,paddingLeft:70,paddingRight:70}}}));function D(e){var t=A(),a=function(e){for(var t=[],a=0;a<e.length-1;a++)t.push({value:a,label:a%2===0?e[a+1].slice(0,-5):""});return t}(e.dates);return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(m.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center"},r.a.createElement(y.a,{width:"75%"},r.a.createElement(E.a,{id:"discrete-slider-restrict",gutterBottom:!0,className:t.body},e.question),r.a.createElement(x.a,{defaultValue:0,valueLabelFormat:function(e){return a.findIndex((function(t){return t.value===e}))+1},getAriaValueText:function(e){return"".concat(e)},"aria-labelledby":"discrete-slider-restrict",step:1,min:0,max:e.dates.length-2,valueLabelDisplay:"auto",marks:a,onChange:e.onChange}))))}var w=["1/27/2020","2/3/2020","2/10/2020","2/17/2020","2/24/2020","3/2/2020","3/9/2020","3/16/2020","3/23/2020","3/30/2020","4/6/2020","4/13/2020","4/20/2020","4/27/2020","5/4/2020","5/11/2020","5/18/2020","5/25/2020","6/1/2020","6/8/2020","6/15/2020","6/22/2020","6/29/2020","7/6/2020","7/13/2020","7/20/2020","7/27/2020","8/3/2020","8/10/2020","8/17/2020","8/24/2020","8/31/2020","9/7/2020","9/14/2020"],C=r.a.createContext(0),j=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{color:"#1f4272"},{weight:3}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{color:"#1f4272"},{lightness:45},{weight:2}]},{featureType:"landscape.man_made",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.attraction",stylers:[{visibility:"off"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.government",stylers:[{visibility:"off"}]},{featureType:"poi.medical",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"poi.place_of_worship",stylers:[{visibility:"off"}]},{featureType:"poi.school",stylers:[{visibility:"off"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.arterial",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}],O=[["United States",37.09024,-95.712891,203],["Canada",56.130367,-106.346771,1234]];Object(T.withScriptjs)(Object(T.withGoogleMap)((function(){return r.a.createElement(T.GoogleMap,{defaultZoom:5,defaultCenter:{lat:37.871593,lng:-122.272743},defaultOptions:{styles:j}},O.map((function(e){return r.a.createElement(T.Marker,{key:e[0],position:{lat:e[1],lng:e[2]},label:{color:"#1f4272",strokeColor:"#ff0200",strokeWeight:1,fontWeight:"bold",fontSize:"12px",text:String(e[3])}})})))})));var S=a(215),L=a(70),N=a(217),q=a(33);function I(){var e=Object(S.a)(["\n.container{\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  font-family: Arial;\n  button{\n    all: unset;\n    width: 100px;\n    height: 35px;\n    margin: 10px 10px 0 0;\n    align-self: flex-end;\n    background-color: #0041C2;\n    color: #fff;\n    text-align: center;\n    border-radius: 3px;\n    border: 1px solid #0041C2;\n    &:hover{\n      background-color: #fff;\n      color: #0041C2;\n    }\n  }\n  >div{\n    height: 100%;\n    width: 100%;\n    display: flex;\n    font-size: 18px;\n    justify-content: center;\n    align-items: center;\n    .content{\n      display: flex;\n      flex-direction: column;\n      padding: 20px 100px;    \n      box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.2);\n      width: auto;\n  \n      img{\n        height: 150px;\n        width: 150px;\n        border-radius: 50%;\n      }\n  \n      >span:nth-child(2){\n        margin-top: 20px;\n        font-weight: bold;\n      }\n  \n      >span:not(:nth-child(2)){\n        margin-top: 8px;\n        font-size: 14px;\n      }\n  \n    }\n  }\n}\n"]);return I=function(){return e},e}var M=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e,n){var l;return Object(o.a)(this,a),(l=t.call(this,e)).formatData=function(e,t){for(var a=l.DATA[e],n=[],r=[],i=0;i<a.length;i++)if(0===e||e>0&&t[t.length-1].includes(a[i][0])){for(var o=[],s=e+3;s<a[i].length;s++)o.push({x:s,y:Math.log(parseInt(a[i][s])+1)});n.push(o),r.push(a[i][e])}return[r,n]},l.graph=function(e,t){if(l.state.granularity!==e){var a=l.formatData(e,t);return l.setState({lines:a[0]}),a[1].map((function(e,t){return r.a.createElement(q.c,{className:"series",key:t,curve:L.a.alpha(.5),data:a[1][t]})}))}},l.DATA=n.data,l.dates=w.slice(),l.dates.push("9/21/2020"),l.dates.push("9/28/2020"),l.state={},l.toGraph=l.graph(l.props.granularity,l.props.query),l}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){e.granularity!==this.props.granularity&&(this.toGraph=this.graph(this.props.granularity,this.props.query),console.log("updated"))}},{key:"render",value:function(){var e=this;return r.a.createElement(m.a,{container:!0,spacing:0,justify:"center",alignItems:"center"},r.a.createElement(m.a,{item:!0,xs:4},r.a.createElement(B,null,r.a.createElement(q.g,{width:600,height:400,margin:{left:60,bottom:60}},r.a.createElement(q.b,{style:{stroke:"#B7E9ED"}}),r.a.createElement(q.e,{style:{stroke:"#B7E9ED"}}),r.a.createElement(q.f,{tickFormat:function(t){return e.dates[t].slice(0,-5)},tickLabelAngle:-60,title:"Time (date by week)",style:{line:{stroke:"#ADDDE1"},ticks:{stroke:"#ADDDE1"},text:{stroke:"none",fill:"#6b6b76",fontWeight:600}}}),r.a.createElement(q.h,{title:"COVID19 Cases in Region (Log)"}),this.toGraph))),r.a.createElement(m.a,{item:!0,xs:6}),r.a.createElement(m.a,{item:!0,xs:1},r.a.createElement(q.a,{height:350,width:100,items:this.state.lines?this.state.lines:[]})))}}]),a}(r.a.Component);M.contextType=C;var B=N.a.section(I()),_=a(10),z=a(470),P=["#A7ADC6","#8797AF","#56667A","#9098B6","#788AA5","#A9B5C6"],F=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e,n){var r;Object(o.a)(this,a),(r=t.call(this,e))._getColor=function(){return P[Math.floor(Math.random()*P.length)]},r.getData=function(e,t){for(var a=r.state?r.DELTAS[e]:r.DELTAS[0],n=[],l=0;l<a.length;l++)if(0===e||e>0&&r.state.query[r.state.query.length-1].includes(a[l][0])){var i=a[l][1+e+t];if(null==i||0===i||"0"===i)continue;n.push({name:a[l][e]+" ("+i+")",size:Math.log(i+1)+.2,color:r._getColor(),style:{border:"thin solid blue"}})}return{title:"",color:r._getColor(),children:n}},r.changeData=function(e,t){e<0&&0===r.state.granularity||e>0&&r.state.granularity===r.DELTAS.length-1||(e>0&&t?r.state.query.push(t.data.name):r.state.query.pop(),r.setState((function(t){return{granularity:t.granularity+e,treemapData:r.getData(t.granularity+e,t.week)}})))},r.DATA=n.data,r.DELTAS=[[],[]];for(var l=0;l<2;l++)for(var i=0;i<r.DATA[l].length;i++){r.DELTAS[l].push([r.DATA[l][i][l]]),1===l&&r.DELTAS[l][i].unshift([r.DATA[l][i][0]]);for(var s=4+l;s<r.DATA[l][i].length;s++){var c=r.DATA[l][i][s]-r.DATA[l][i][s-1],u=1;u=0===c?0:"0"===r.DATA[l][i][s-1]?1:Math.round(c/r.DATA[l][i][s-1]*100)/100,r.DELTAS[l][i].push(u)}}return console.log(r.DELTAS),r.state={hoveredNode:!1,treemapData:r.getData(0,0),useCirclePacking:!1,granularity:0,query:[],week:0},r}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.hoveredNode,l=a.useCirclePacking,i={animation:{damping:9,stiffness:300},data:this.state.treemapData,onLeafMouseOver:function(t){return e.setState({hoveredNode:t})},onLeafMouseOut:function(){return e.setState({hoveredNode:!1})},onLeafClick:function(){return e.changeData(1,n)},height:500,mode:this.state.useCirclePacking?"circlePack":"squarify",getLabel:function(e){return e.name},width:600};return r.a.createElement("div",{className:"treemap"},r.a.createElement(D,{dates:w,onChange:function(t,a){a!==e.state.week&&e.setState({week:a,treemapData:e.getData(e.state.granularity,a)})}}),r.a.createElement("br",null),r.a.createElement(m.a,{container:!0,spacing:0,justify:"center",alignItems:"center"},r.a.createElement(m.a,{item:!0,xs:4},r.a.createElement(z.a,{variant:"contained",color:"primary",className:t.button,style:{marginLeft:"100px"},onClick:function(){return e.changeData(-1,null)},disabled:0===this.state.granularity},"Back"),r.a.createElement(z.a,{variant:"contained",color:"primary",className:t.button,style:{float:"center"},onClick:function(){return e.setState({useCirclePacking:!l})}},this.state.useCirclePacking?"Square View":"Circle View"),r.a.createElement(q.d,Object.assign({},i,{colorType:"literal",sortFunction:function(e,t){return t.value-e.value}}))),r.a.createElement(m.a,{item:!0,xs:1}),r.a.createElement(m.a,{item:!0,xs:7},r.a.createElement(M,{granularity:this.state.granularity,query:this.state.query}))),"The rectangle plot illustrates regions where COVID is spreading the fastest. Rectangle size is correlated with the rate of increase of cases between weeks.",r.a.createElement("br",null),r.a.createElement("br",null),"The right graph shows the total cummulative cases over time.",r.a.createElement("br",null),r.a.createElement("br",null),"Panel Data taken from: CSSEGISandData (JHU)")}}]),a}(r.a.Component);F.contextType=C;var V=Object(_.a)((function(e){return{button:{margin:e.spacing(2)}}}))(F),W=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(g.a,null,r.a.createElement("div",{className:"Router"},r.a.createElement(b.c,null,r.a.createElement(b.a,{exact:!0,path:"/",component:V}),r.a.createElement(b.a,{component:v}))))}}]),a}(r.a.Component),G=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).DATA=[],e.state={loaded:!1},h.a.parse("https://raw.githubusercontent.com/matthew29tang/covid-track/master/src/data/continent-data.csv",{download:!0,complete:function(t){h.a.parse("https://raw.githubusercontent.com/matthew29tang/covid-track/master/src/data/country-data.csv",{download:!0,complete:function(a){e.DATA.push(t.data.slice(1)),e.DATA.push(a.data.slice(1)),e.setState({loaded:!0})}})}}),e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(C.Provider,{value:{data:this.DATA}},r.a.createElement("div",{className:"App",style:{backgroundColor:"#F6F6F6",paddingBottom:20}},r.a.createElement(f.a,{position:"static"},r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement("div",{style:{flex:1,fontSize:"19px"}},r.a.createElement(g.b,{activeClassName:"active",className:"link",to:"/",type:"menu"},"CoVisualize"))))),r.a.createElement("br",null),r.a.createElement(m.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center"},r.a.createElement(y.a,{width:"85%",maxWidth:1500},this.DATA.length>0?r.a.createElement(W,null):""))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[230,1,2]]]);
//# sourceMappingURL=main.75bf604a.chunk.js.map